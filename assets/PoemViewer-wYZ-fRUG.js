import{c as n,r as l,j as e,k as m}from"./index-BGpL83HG.js";import{P as u,X as f,f as c,p as d}from"./PoemEditor-B3_FPka1.js";const v=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],j=n("share-2",v);const b=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],k=n("square-pen",b);const w=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],z=n("trash-2",w),P=({poem:a,onClose:i,onUpdate:r})=>{const[y,s]=l.useState(!1),[o,x]=l.useState(!1),g=()=>{confirm("Czy na pewno chcesz usunąć ten wiersz?")&&(m(a.id),r(),i())},h=()=>{const t=`${a.title}

${a.content}

${c(new Date(a.date),"d MMMM yyyy",{locale:d})}`;navigator.share?navigator.share({title:a.title||"Wiersz",text:t}):(navigator.clipboard.writeText(t),alert("Wiersz skopiowany do schowka!"))},p=()=>{s(!1),r()};return y?e.jsx(u,{poem:a,onSave:p,onClose:()=>s(!1)}):e.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"var(--light-bg)",zIndex:1e3,display:"flex",flexDirection:"column"},onClick:()=>x(!o),children:[o&&e.jsxs("div",{style:{padding:"var(--spacing-md)",borderBottom:"1px solid var(--light-border)",display:"flex",justifyContent:"space-between",alignItems:"center",background:"var(--light-bg)"},children:[e.jsx("button",{className:"button button-secondary",onClick:t=>{t.stopPropagation(),i()},style:{padding:"0.5rem"},children:e.jsx(f,{size:20})}),e.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[e.jsx("button",{className:"button button-secondary",onClick:t=>{t.stopPropagation(),h()},style:{padding:"0.5rem"},children:e.jsx(j,{size:20})}),e.jsx("button",{className:"button button-secondary",onClick:t=>{t.stopPropagation(),s(!0)},style:{padding:"0.5rem"},children:e.jsx(k,{size:20})}),e.jsx("button",{className:"button button-secondary",onClick:t=>{t.stopPropagation(),g()},style:{padding:"0.5rem",color:"#dc2626"},children:e.jsx(z,{size:20})})]})]}),e.jsxs("div",{style:{flex:1,padding:"var(--spacing-xl)",overflow:"auto",display:"flex",flexDirection:"column",justifyContent:"center",maxWidth:"700px",margin:"0 auto",width:"100%"},children:[a.title&&e.jsx("h1",{className:"font-serif",style:{fontSize:"2rem",marginBottom:"var(--spacing-lg)",fontWeight:400,textAlign:"center"},children:a.title}),e.jsx("p",{className:"font-serif",style:{fontSize:"1.125rem",lineHeight:1.8,whiteSpace:"pre-wrap",marginBottom:"var(--spacing-xl)"},children:a.content}),e.jsxs("div",{style:{marginTop:"auto"},children:[e.jsx("p",{className:"text-secondary",style:{fontSize:"0.875rem",textAlign:"center",marginBottom:"var(--spacing-md)"},children:c(new Date(a.date),"d MMMM yyyy",{locale:d})}),a.tags.length>0&&e.jsx("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap",justifyContent:"center"},children:a.tags.map(t=>e.jsx("span",{style:{fontSize:"0.75rem",padding:"0.25rem 0.75rem",borderRadius:"var(--radius-full)",background:"var(--light-border)"},children:t},t))})]})]})]})};export{P,k as S,z as T};
