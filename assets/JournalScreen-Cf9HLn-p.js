import{u as p,r as g,R as x,g as u,j as e,a as h,s as y}from"./index-CviJ_4Uk.js";import{f as l,P as j,p as f,e as v}from"./PoemEditor-BSOzhVwC.js";import{P}from"./plus-DYoEbPbe.js";import"./differenceInCalendarDays-CY0TikMX.js";const D=()=>{const{t:a,language:o}=p(),[d,n]=g.useState(!1),r=l(new Date,"yyyy-MM-dd"),c=o==="pl"?f:v,i=x.useMemo(()=>u().filter(s=>s.date.startsWith(r)),[r]),m=t=>{const s=h(r)||{date:r,poemIds:[]};s.poemIds.includes(t.id)||(s.poemIds.push(t.id),y(s)),n(!1)};return e.jsxs("div",{style:{padding:"var(--spacing-lg)"},children:[e.jsxs("header",{style:{marginBottom:"var(--spacing-xl)",textAlign:"center"},children:[e.jsx("h1",{style:{fontSize:"2.5rem",marginBottom:"0.5rem",fontWeight:300},children:l(new Date,"d MMMM yyyy",{locale:c})}),e.jsx("p",{className:"text-secondary",children:a.journal.subtitle})]}),e.jsxs("button",{className:"button button-primary mb-lg",onClick:()=>n(!0),children:[e.jsx(P,{size:20}),a.journal.newPoem]}),i.length===0?e.jsxs("div",{style:{textAlign:"center",padding:"3rem 1rem"},children:[e.jsx("p",{className:"text-secondary",children:a.journal.noPoems}),e.jsx("p",{className:"text-secondary",style:{marginTop:"0.5rem"},children:a.journal.startWriting})]}):e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"var(--spacing-md)"},children:i.map(t=>e.jsxs("div",{className:"card",children:[e.jsx("h3",{style:{marginBottom:"0.5rem",fontWeight:500},children:t.title||a.editor.untitled}),e.jsx("p",{className:"text-secondary",style:{fontSize:"0.875rem",marginBottom:"1rem"},children:l(new Date(t.createdAt),"HH:mm")}),e.jsx("p",{style:{whiteSpace:"pre-wrap",lineHeight:1.6,maxHeight:"150px",overflow:"hidden",textOverflow:"ellipsis"},children:t.content}),t.tags.length>0&&e.jsx("div",{style:{marginTop:"1rem",display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:t.tags.map(s=>e.jsx("span",{style:{fontSize:"0.75rem",padding:"0.25rem 0.75rem",borderRadius:"var(--radius-full)",background:"var(--light-border)"},children:s},s))})]},t.id))}),d&&e.jsx(j,{onSave:m,onClose:()=>n(!1),initialDate:r})]})};export{D as default};
