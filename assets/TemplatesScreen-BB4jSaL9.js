import{r as n,y as x,j as e,q as y,z,A as w}from"./index-Bn0aaIde.js";import{P as k}from"./plus-B0p0tCxp.js";import{X as S}from"./x-DnqWJWZp.js";import{T as C}from"./trash-2-DRpGpEwi.js";const T=({onBack:g,onUseTemplate:i})=>{const[d,h]=n.useState(x()),[o,l]=n.useState(!1),[m,c]=n.useState(null),[r,a]=n.useState({name:"",structure:"",example:""}),u=()=>{h(x())},b=t=>{if(t.preventDefault(),!r.name.trim()||!r.structure.trim())return;const f={id:m||`template_${crypto.randomUUID()}`,name:r.name.trim(),structure:r.structure.trim(),example:r.example.trim(),isCustom:!0};z(f),u(),p()},j=t=>{a({name:t.name,structure:t.structure,example:t.example||""}),c(t.id),l(!0)},v=t=>{confirm("Czy na pewno chcesz usunąć ten szablon?")&&(w(t),u())},p=()=>{a({name:"",structure:"",example:""}),c(null),l(!1)};return e.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"var(--bg-primary)",zIndex:100,display:"flex",flexDirection:"column"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"var(--spacing-lg)",borderBottom:"1px solid var(--light-border)",background:"var(--bg-secondary)"},children:[e.jsx("h1",{style:{fontSize:"1.5rem",fontWeight:600,margin:0,color:"var(--text-primary)"},children:"Szablony"}),e.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[e.jsxs("button",{className:"button button-primary",onClick:()=>l(!o),children:[e.jsx(k,{size:20}),o?"Anuluj":"Nowy szablon"]}),e.jsx("button",{className:"button button-secondary",onClick:g,style:{padding:"0.5rem"},children:e.jsx(S,{size:20})})]})]}),o&&e.jsx("div",{style:{padding:"var(--spacing-lg)",borderBottom:"1px solid var(--light-border)",background:"var(--bg-card)"},children:e.jsxs("form",{onSubmit:b,style:{maxWidth:"800px",margin:"0 auto"},children:[e.jsxs("div",{style:{marginBottom:"1rem"},children:[e.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:500,color:"var(--text-primary)"},children:"Nazwa szablonu *"}),e.jsx("input",{type:"text",className:"input",value:r.name,onChange:t=>a({...r,name:t.target.value}),placeholder:"np. Sonet, Haiku, Limerick...",required:!0})]}),e.jsxs("div",{style:{marginBottom:"1rem"},children:[e.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:500,color:"var(--text-primary)"},children:"Struktura *"}),e.jsx("textarea",{className:"input",value:r.structure,onChange:t=>a({...r,structure:t.target.value}),placeholder:"Opisz strukturę wiersza (ilość zwrotek, wersów, rym, metrykę...)",rows:4,required:!0})]}),e.jsxs("div",{style:{marginBottom:"1rem"},children:[e.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:500,color:"var(--text-primary)"},children:"Przykład (opcjonalnie)"}),e.jsx("textarea",{className:"input",value:r.example,onChange:t=>a({...r,example:t.target.value}),placeholder:"Dodaj przykładowy wiersz w tym stylu...",rows:6})]}),e.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[e.jsx("button",{type:"submit",className:"button button-primary",children:m?"Zapisz zmiany":"Dodaj szablon"}),e.jsx("button",{type:"button",className:"button button-secondary",onClick:p,children:"Anuluj"})]})]})}),e.jsxs("div",{style:{flex:1,overflow:"auto",padding:"var(--spacing-lg)"},children:[e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:"var(--spacing-md)",maxWidth:"1200px",margin:"0 auto"},children:d.map(t=>e.jsxs("div",{className:"card",style:{padding:"var(--spacing-md)",cursor:i?"pointer":"default",transition:"all 0.2s"},onClick:()=>i&&i(t),children:[e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",marginBottom:"0.75rem"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx(y,{size:20,style:{color:"var(--accent-color)"}}),e.jsx("h3",{style:{fontSize:"1.1rem",fontWeight:600,margin:0,color:"var(--text-primary)"},children:t.name})]}),t.isCustom&&e.jsxs("div",{style:{display:"flex",gap:"0.25rem"},children:[e.jsx("button",{className:"button button-secondary",onClick:s=>{s.stopPropagation(),j(t)},style:{padding:"0.25rem 0.5rem",fontSize:"0.85rem"},children:"Edytuj"}),e.jsx("button",{className:"button button-secondary",onClick:s=>{s.stopPropagation(),v(t.id)},style:{padding:"0.25rem 0.5rem"},title:"Usuń szablon",children:e.jsx(C,{size:16})})]})]}),e.jsx("div",{style:{fontSize:"0.9rem",color:"var(--text-secondary)",lineHeight:1.6,marginBottom:"0.75rem",whiteSpace:"pre-wrap"},children:t.structure}),t.example&&e.jsx("div",{style:{marginTop:"0.75rem",padding:"0.75rem",background:"var(--bg-secondary)",borderRadius:"0.5rem",fontSize:"0.85rem",color:"var(--text-secondary)",fontStyle:"italic",whiteSpace:"pre-wrap",borderLeft:"3px solid var(--accent-color)"},children:t.example})]},t.id))}),d.length===0&&e.jsxs("div",{style:{textAlign:"center",padding:"3rem",color:"var(--text-secondary)"},children:[e.jsx(y,{size:48,style:{opacity:.3,marginBottom:"1rem"}}),e.jsx("p",{children:"Brak szablonów. Dodaj pierwszy szablon."})]})]})]})};export{T as default};
