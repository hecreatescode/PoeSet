import{c as l,r as h,L as j,d as v,j as e,q as b}from"./index-BVxns9Ap.js";import{E as k,S as z}from"./save-77M5NSrY.js";import{D as S}from"./download-Cg9v8hDD.js";const w=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],N=l("hard-drive",w);const C=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],I=l("languages",C);const B=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],W=l("maximize",B);const $=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],M=l("palette",$);const F=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],D=l("panels-top-left",F);const T=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]],_=l("text-align-start",T);const L=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],u=l("type",L);const A=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],E=l("upload",A),y={customFonts:[],selectedCustomFont:void 0,fontFamily:"serif",customMoods:[],language:"pl"};function R(){const[r,t]=h.useState(()=>{try{const i=localStorage.getItem("poeset-settings");return i?{...y,...JSON.parse(i)}:y}catch{return y}});return{settings:r,updateSetting:(i,s)=>{t(n=>{const d={...n,[i]:s};return localStorage.setItem("poeset-settings",JSON.stringify(d)),d})}}}function x(r){const t=JSON.stringify(r,null,2),o=new Blob([t],{type:"application/json"}),i=URL.createObjectURL(o),s=document.createElement("a");s.href=i,s.download="poeset-backup.json",s.click(),URL.revokeObjectURL(i)}function O(r){x(r)}function V(r,t){const o=document.createElement("input");o.type="file",o.accept=".json,application/json",o.onchange=async i=>{const s=i.target,n=s.files&&s.files[0];if(!n)return;const d=await n.text();try{const m=JSON.parse(d);Object.keys(m).forEach(g=>{r(g,m[g])}),t("Import zako≈Ñczony sukcesem!","success")}catch{t("B≈ÇƒÖd importu pliku.","error")}},o.click()}const U=()=>{const r=h.useContext(j);if(!r)throw new Error("LanguageContext not found");const{t,language:o,setLanguage:i}=r,{settings:s,updateSetting:n}=R(),{notify:d}=v(),[m,g]=h.useState(""),f=a=>{if(!s.customFonts?.includes(a)){n("customFonts",[...s.customFonts||[],a]),g("");const c=a.replace(/ /g,"+");if(!document.getElementById(`gf-${c}`)){const p=document.createElement("link");p.id=`gf-${c}`,p.rel="stylesheet",p.href=`https://fonts.googleapis.com/css?family=${c}:400,700&display=swap`,document.head.appendChild(p)}}};return e.jsxs("div",{style:{maxWidth:"900px",margin:"0 auto",padding:"var(--spacing-md)"},children:[e.jsxs("header",{className:"mb-xl",style:{textAlign:"center"},children:[e.jsx("h1",{style:{fontSize:"clamp(1.5rem, 5vw, 2rem)",marginBottom:"0.5rem",fontWeight:300},children:t.settings.title}),e.jsx("p",{className:"text-secondary",style:{fontSize:"clamp(0.875rem, 2.5vw, 1rem)"},children:t.settings.subtitle})]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"var(--spacing-lg)"},children:e.jsxs("div",{className:"card",style:{cursor:"default",marginBottom:"var(--spacing-lg)"},children:[e.jsxs("h3",{style:{marginBottom:"var(--spacing-md)",fontWeight:500,display:"flex",alignItems:"center",gap:"var(--spacing-sm)"},children:[e.jsx(u,{size:20}),t.settings.customFonts||"Niestandardowe czcionki"]}),e.jsxs("form",{onSubmit:a=>{a.preventDefault(),m.trim()&&f(m.trim())},style:{display:"flex",gap:"0.5rem",marginBottom:"1rem"},children:[e.jsx("input",{type:"text",className:"custom-font-input",placeholder:t.settings.addFontPlaceholder||"Nazwa czcionki z Google Fonts",value:m,onChange:a=>g(a.target.value),style:{flex:1}}),e.jsx("button",{type:"submit",className:"button button-primary",children:t.settings.addFont||"Dodaj"})]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:(s.customFonts||[]).length===0&&e.jsx("span",{style:{color:"var(--text-secondary)",fontStyle:"italic"},children:t.settings.noCustomFonts||"Brak dodanych czcionek."})}),e.jsxs("div",{className:"card",style:{cursor:"default"},children:[e.jsxs("h3",{style:{marginBottom:"var(--spacing-md)",fontWeight:500,display:"flex",alignItems:"center",gap:"var(--spacing-sm)"},children:[e.jsx(u,{size:20}),t.settings.font]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(110px, 1fr))",gap:"var(--spacing-sm)"},children:[e.jsx("button",{className:`button ${s.fontFamily==="serif"?"button-primary":"button-secondary"}`,onClick:()=>n("fontFamily","serif"),children:t.settings.serif}),e.jsx("button",{className:`button ${s.fontFamily==="sans-serif"?"button-primary":"button-secondary"}`,onClick:()=>n("fontFamily","sans-serif"),children:t.settings.sansSerif})]})]}),e.jsxs("div",{className:"card",style:{cursor:"default"},children:[e.jsxs("h3",{style:{marginBottom:"var(--spacing-md)",fontWeight:500,display:"flex",alignItems:"center",gap:"var(--spacing-sm)"},children:[e.jsx(M,{size:20}),t.settings.theme||"Motyw aplikacji"]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(110px, 1fr))",gap:"var(--spacing-sm)"},children:[e.jsx("button",{className:`button ${s.theme?"button-secondary":"button-primary"}`,onClick:()=>n("theme",void 0),children:t.editor?.defaultTheme||"Domy≈õlny"}),e.jsx("button",{className:`button ${s.theme==="light"?"button-primary":"button-secondary"}`,onClick:()=>n("theme","light"),children:t.themes?.light||"Jasny"}),e.jsx("button",{className:`button ${s.theme==="dark"?"button-primary":"button-secondary"}`,onClick:()=>n("theme","dark"),children:t.themes?.dark||"Ciemny"}),e.jsx("button",{className:`button ${s.theme==="sepia"?"button-primary":"button-secondary"}`,onClick:()=>n("theme","sepia"),children:t.themes?.sepia||"Sepia"}),e.jsx("button",{className:`button ${s.theme==="midnight"?"button-primary":"button-secondary"}`,onClick:()=>n("theme","midnight"),children:t.themes?.midnight||"Nocny"}),e.jsx("button",{className:`button ${s.theme==="forest"?"button-primary":"button-secondary"}`,onClick:()=>n("theme","forest"),children:t.themes?.forest||"Las"}),e.jsx("button",{className:`button ${s.theme==="ocean"?"button-primary":"button-secondary"}`,onClick:()=>n("theme","ocean"),children:t.themes?.ocean||"Ocean"}),e.jsx("button",{className:`button ${s.theme==="rose"?"button-primary":"button-secondary"}`,onClick:()=>n("theme","rose"),children:t.themes?.rose||"R√≥≈ºany"})]})]}),e.jsxs("div",{className:"card",style:{cursor:"default"},children:[e.jsxs("h3",{style:{marginBottom:"var(--spacing-md)",fontWeight:500,display:"flex",alignItems:"center",gap:"var(--spacing-sm)"},children:[e.jsx(I,{size:20}),"Jƒôzyk / Language"]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(110px, 1fr))",gap:"var(--spacing-sm)"},children:[e.jsx("button",{className:`button ${o==="pl"?"button-primary":"button-secondary"}`,onClick:()=>i("pl"),children:"Polski"}),e.jsx("button",{className:`button ${o==="en"?"button-primary":"button-secondary"}`,onClick:()=>i("en"),children:"English"})]})]}),e.jsxs("div",{className:"card",style:{cursor:"default"},children:[e.jsxs("h3",{style:{marginBottom:"var(--spacing-md)",fontWeight:500,display:"flex",alignItems:"center",gap:"var(--spacing-sm)"},children:[e.jsx(_,{size:20}),t.settings.lineSpacing]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(100px, 1fr))",gap:"var(--spacing-sm)"},children:[e.jsx("button",{className:`button ${s.lineSpacing==="compact"?"button-primary":"button-secondary"}`,onClick:()=>n("lineSpacing","compact"),children:t.settings.compact}),e.jsx("button",{className:`button ${s.lineSpacing==="normal"?"button-primary":"button-secondary"}`,onClick:()=>n("lineSpacing","normal"),children:t.settings.normal}),e.jsx("button",{className:`button ${s.lineSpacing==="relaxed"?"button-primary":"button-secondary"}`,onClick:()=>n("lineSpacing","relaxed"),children:t.settings.relaxed})]})]}),e.jsxs("div",{className:"card",style:{cursor:"default",display:"flex",flexWrap:"wrap",gap:"2rem",alignItems:"flex-start"},children:[e.jsxs("div",{style:{flex:1,minWidth:220},children:[e.jsxs("h3",{style:{marginBottom:"var(--spacing-md)",fontWeight:500,display:"flex",alignItems:"center",gap:"var(--spacing-sm)"},children:[e.jsx(u,{size:20}),t.accessibility.fontSize]}),e.jsx("div",{style:{marginBottom:"0.5rem",color:"var(--text-secondary)",fontSize:"0.95rem"},children:t.settings.customFontsDesc||"Dostosuj rozmiar tekstu w aplikacji"}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[e.jsx("span",{style:{fontSize:"0.85rem",opacity:.7},children:"A"}),e.jsx("input",{type:"range",min:"0",max:"3",step:"1",value:s.fontSize==="small"?0:s.fontSize==="medium"?1:s.fontSize==="large"?2:3,onChange:a=>{const c=parseInt(a.target.value);n("fontSize",["small","medium","large","xlarge"][c])},style:{flex:1}}),e.jsx("span",{style:{fontSize:"1.6rem",fontWeight:600},children:"A"})]}),e.jsx("div",{style:{marginTop:4,fontSize:"0.95rem",color:"var(--text-secondary)"},children:s.fontSize==="small"?t.accessibility.small:s.fontSize==="medium"?t.accessibility.medium:s.fontSize==="large"?t.accessibility.large:t.accessibility.xlarge})]}),e.jsxs("div",{style:{flex:1,minWidth:220},children:[e.jsxs("h3",{style:{marginBottom:"var(--spacing-md)",fontWeight:500,display:"flex",alignItems:"center",gap:"var(--spacing-sm)"},children:[e.jsx(W,{size:20}),t.settings.layoutWidth]}),e.jsx("div",{style:{marginBottom:"0.5rem",color:"var(--text-secondary)",fontSize:"0.95rem"},children:t.settings.layoutWidth||"Dostosuj szeroko≈õƒá tre≈õci aplikacji"}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[e.jsx("span",{style:{width:40,textAlign:"center",fontSize:"0.9rem",opacity:.7},children:t.settings.narrow}),e.jsx("input",{type:"range",min:"0",max:"3",step:"1",value:s.layoutWidth==="narrow"?0:s.layoutWidth==="medium"?1:s.layoutWidth==="wide"?2:3,onChange:a=>{const c=parseInt(a.target.value);n("layoutWidth",["narrow","medium","wide","full"][c])},style:{flex:1}}),e.jsx("span",{style:{width:100,textAlign:"center",fontSize:"1.35rem",fontWeight:600},children:t.settings.full})]}),e.jsx("div",{style:{marginTop:4,fontSize:"0.95rem",color:"var(--text-secondary)"},children:s.layoutWidth==="narrow"?`${t.settings.narrow} (600px)`:s.layoutWidth==="medium"?`${t.settings.medium} (900px)`:s.layoutWidth==="wide"?`${t.settings.wide} (1200px)`:`${t.settings.full} (100%)`})]})]}),e.jsxs("div",{className:"card",style:{cursor:"default"},children:[e.jsxs("h3",{style:{marginBottom:"var(--spacing-md)",fontWeight:500,display:"flex",alignItems:"center",gap:"var(--spacing-sm)"},children:[e.jsx(b,{size:20}),t.settings.startView]}),e.jsxs("div",{style:{display:"flex",gap:"var(--spacing-sm)"},children:[e.jsx("button",{className:`button ${s.startView==="journal"?"button-primary":"button-secondary"}`,onClick:()=>n("startView","journal"),children:t.nav.journal}),e.jsx("button",{className:`button ${s.startView==="poems"?"button-primary":"button-secondary"}`,onClick:()=>n("startView","poems"),children:t.nav.poems})]})]}),e.jsxs("div",{className:"card",style:{cursor:"default"},children:[e.jsxs("h3",{style:{marginBottom:"var(--spacing-md)",fontWeight:500,display:"flex",alignItems:"center",gap:"var(--spacing-sm)"},children:[e.jsx(D,{size:20}),t.settings.features]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"var(--spacing-md)"},children:[e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-sm)",cursor:"pointer"},children:[e.jsx("input",{type:"checkbox",checked:s.enableMarkdown,onChange:a=>n("enableMarkdown",a.target.checked),style:{width:"18px",height:"18px"}}),e.jsx("span",{children:t.settings.enableMarkdown})]}),e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-sm)",cursor:"pointer"},children:[e.jsx("input",{type:"checkbox",checked:s.enableSwipeGestures,onChange:a=>n("enableSwipeGestures",a.target.checked),style:{width:"18px",height:"18px"}}),e.jsx("span",{children:t.settings.enableSwipeGestures})]})]})]}),e.jsxs("div",{className:"card",style:{cursor:"default"},children:[e.jsxs("h3",{style:{marginBottom:"var(--spacing-md)",fontWeight:500,display:"flex",alignItems:"center",gap:"var(--spacing-sm)"},children:[e.jsx(k,{size:20}),t.accessibility.title]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"var(--spacing-md)"},children:[e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-sm)",cursor:"pointer"},children:[e.jsx("input",{type:"checkbox",checked:s.highContrast,onChange:a=>n("highContrast",a.target.checked),style:{width:"18px",height:"18px"}}),e.jsx("span",{children:t.accessibility.highContrast})]}),e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-sm)",cursor:"pointer"},children:[e.jsx("input",{type:"checkbox",checked:s.reducedMotion,onChange:a=>n("reducedMotion",a.target.checked),style:{width:"18px",height:"18px"}}),e.jsx("span",{children:t.accessibility.reducedMotion})]})]})]}),e.jsxs("div",{className:"card",style:{cursor:"default"},children:[e.jsxs("h3",{style:{marginBottom:"var(--spacing-md)",fontWeight:500,display:"flex",alignItems:"center",gap:"var(--spacing-sm)"},children:[e.jsx(N,{size:20}),t.settings.backup]}),e.jsxs("div",{style:{background:"var(--bg-secondary)",borderRadius:"var(--radius-md)",padding:"var(--spacing-md)",marginBottom:"var(--spacing-md)",border:"1px solid var(--border-color)"},children:[e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-sm)",cursor:"pointer",marginBottom:s.autoBackup?"var(--spacing-md)":0},children:[e.jsx("input",{type:"checkbox",checked:s.autoBackup||!1,onChange:a=>n("autoBackup",a.target.checked)}),e.jsxs("div",{children:[e.jsx("span",{style:{fontWeight:500},children:t.settings.autoBackup||"Automatyczne kopie zapasowe"}),e.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",margin:"0.25rem 0 0 0"},children:s.language==="pl"?"Tworzy kopiƒô co okre≈õlony czas":"Creates backup at specified intervals"})]})]}),s.autoBackup&&e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-md)",marginLeft:"28px"},children:[e.jsxs("label",{style:{fontSize:"0.875rem",color:"var(--text-secondary)"},children:[t.settings.backupFrequency||"Czƒôstotliwo≈õƒá (minuty)",":"]}),e.jsx("input",{type:"range",min:"5",max:"120",step:"5",value:s.autoBackupInterval||30,onChange:a=>n("autoBackupInterval",parseInt(a.target.value)),style:{flex:1,maxWidth:"150px"}}),e.jsxs("span",{style:{minWidth:"50px",textAlign:"center",fontWeight:600,color:"var(--accent-color)",fontSize:"0.875rem"},children:[s.autoBackupInterval||30," min"]})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"var(--spacing-sm)",marginBottom:"var(--spacing-md)"},children:[e.jsxs("button",{className:"button button-primary",onClick:()=>x(s),style:{display:"flex",flexDirection:"column",alignItems:"center",padding:"var(--spacing-md)",gap:"0.5rem"},children:[e.jsx(z,{size:24}),e.jsx("span",{style:{fontSize:"0.75rem"},children:t.settings.downloadBackup||"Pobierz kopiƒô"})]}),e.jsxs("button",{className:"button button-secondary",onClick:()=>O(s),style:{display:"flex",flexDirection:"column",alignItems:"center",padding:"var(--spacing-md)",gap:"0.5rem"},children:[e.jsx(S,{size:24}),e.jsx("span",{style:{fontSize:"0.75rem"},children:t.settings.export})]}),e.jsxs("button",{className:"button button-secondary",onClick:()=>V(n,d),style:{display:"flex",flexDirection:"column",alignItems:"center",padding:"var(--spacing-md)",gap:"0.5rem"},children:[e.jsx(E,{size:24}),e.jsx("span",{style:{fontSize:"0.75rem"},children:t.settings.import})]})]}),e.jsx("div",{style:{background:"var(--bg-secondary)",borderRadius:"var(--radius-md)",padding:"var(--spacing-md)",border:"1px solid var(--border-color)"},children:e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-sm)",cursor:"pointer"},children:[e.jsx("input",{type:"checkbox",checked:s.useFileSystem||!1,onChange:a=>n("useFileSystem",a.target.checked)}),e.jsxs("div",{children:[e.jsx("span",{style:{fontWeight:500},children:t.settings.saveToDevice||"Zapisuj dane bezpo≈õrednio na urzƒÖdzeniu"}),e.jsxs("p",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",margin:"0.25rem 0 0 0"},children:["üìÅ ",t.settings.fileSystemNote||"U≈ºywa File System Access API (wymaga nowoczesnej przeglƒÖdarki)"]})]})]})}),e.jsxs("div",{style:{marginTop:"var(--spacing-md)",padding:"var(--spacing-sm) var(--spacing-md)",background:s.useFileSystem?"rgba(76, 175, 80, 0.1)":"rgba(33, 150, 243, 0.1)",borderRadius:"var(--radius-md)",fontSize:"0.875rem",color:"var(--text-secondary)",display:"flex",alignItems:"center",gap:"var(--spacing-sm)"},children:["üíæ ",s.useFileSystem?t.settings.storageDisk||"Dane zapisywane bezpo≈õrednio na dysku":t.settings.storageLocal||"Dane zapisywane w przeglƒÖdarce (localStorage + IndexedDB)"]})]}),e.jsxs("div",{className:"card",style:{cursor:"default"},children:[e.jsx("h3",{style:{marginBottom:"var(--spacing-md)",fontWeight:500},children:t.settings.about}),e.jsxs("p",{className:"text-secondary",style:{marginBottom:"var(--spacing-sm)"},children:[e.jsx("strong",{children:"PoeSet"})," - ",t.settings.aboutDescription]}),e.jsxs("p",{className:"text-secondary",style:{fontSize:"0.875rem"},children:[t.settings.version," 2.0.1"]}),e.jsx("p",{className:"text-secondary",style:{fontSize:"0.875rem",marginTop:"var(--spacing-md)"},children:t.settings.aboutText})]})]})})]})};export{U as default};
