import{r as d,R as c,g as m,j as e,a as p,s as x}from"./index-DLi96DjU.js";import{f as n,P as g,p as h}from"./PoemEditor-hMMUM2D6.js";import{P as y}from"./plus-BART-st3.js";import"./differenceInCalendarDays-BfliYgyh.js";const z=()=>{const[l,r]=d.useState(!1),a=n(new Date,"yyyy-MM-dd"),i=c.useMemo(()=>m().filter(t=>t.date.startsWith(a)),[a]),o=s=>{const t=p(a)||{date:a,poemIds:[]};t.poemIds.includes(s.id)||(t.poemIds.push(s.id),x(t)),r(!1)};return e.jsxs("div",{style:{padding:"var(--spacing-lg)"},children:[e.jsxs("header",{style:{marginBottom:"var(--spacing-xl)",textAlign:"center"},children:[e.jsx("h1",{style:{fontSize:"2.5rem",marginBottom:"0.5rem",fontWeight:300},children:n(new Date,"d MMMM yyyy",{locale:h})}),e.jsx("p",{className:"text-secondary",children:"Dziennik dnia"})]}),e.jsxs("button",{className:"button button-primary mb-lg",onClick:()=>r(!0),children:[e.jsx(y,{size:20}),"Dodaj wiersz"]}),i.length===0?e.jsxs("div",{style:{textAlign:"center",padding:"3rem 1rem"},children:[e.jsx("p",{className:"text-secondary",children:"Jeszcze nie napisałeś dziś żadnego wiersza."}),e.jsx("p",{className:"text-secondary",style:{marginTop:"0.5rem"},children:"Rozpocznij swoją codzienną twórczość."})]}):e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"var(--spacing-md)"},children:i.map(s=>e.jsxs("div",{className:"card",children:[e.jsx("h3",{style:{marginBottom:"0.5rem",fontWeight:500},children:s.title||"Bez tytułu"}),e.jsx("p",{className:"text-secondary",style:{fontSize:"0.875rem",marginBottom:"1rem"},children:n(new Date(s.createdAt),"HH:mm")}),e.jsx("p",{style:{whiteSpace:"pre-wrap",lineHeight:1.6,maxHeight:"150px",overflow:"hidden",textOverflow:"ellipsis"},children:s.content}),s.tags.length>0&&e.jsx("div",{style:{marginTop:"1rem",display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:s.tags.map(t=>e.jsx("span",{style:{fontSize:"0.75rem",padding:"0.25rem 0.75rem",borderRadius:"var(--radius-full)",background:"var(--light-border)"},children:t},t))})]},s.id))}),l&&e.jsx(g,{onSave:o,onClose:()=>r(!1),initialDate:a})]})};export{z as default};
