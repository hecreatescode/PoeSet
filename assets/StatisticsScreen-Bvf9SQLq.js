import{c as a,u as v,g as j,j as e,C as k}from"./index-Couu5Qb6.js";import{T as S}from"./tag-CWNYW8zQ.js";const w=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],z=a("award",w);const b=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],W=a("calendar-days",b);const M=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],A=a("clock",M);const N=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],B=a("hash",N);const _=[["path",{d:"M11 5h10",key:"1cz7ny"}],["path",{d:"M11 12h10",key:"1438ji"}],["path",{d:"M11 19h10",key:"11t30w"}],["path",{d:"M4 4h1v5",key:"10yrso"}],["path",{d:"M4 9h2",key:"r1h2o0"}],["path",{d:"M6.5 20H3.4c0-1 2.6-1.925 2.6-3.5a1.5 1.5 0 0 0-2.6-1.02",key:"xtkcd5"}]],T=a("list-ordered",_);const $=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],C=a("trending-down",$);const D=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],L=a("trending-up",D),H=()=>{const{t:m}=v(),r=j(),i=(()=>{const t={};return r.forEach(n=>{(`${n.title} ${n.content}`.toLowerCase().match(/[a-ząćęłńóśźż]+/g)||[]).forEach(s=>{t[s]=(t[s]||0)+1})}),Object.entries(t).sort((n,o)=>o[1]-n[1]).slice(0,20).map(([n,o])=>({word:n,count:o}))})(),d=[...r].sort((t,n)=>n.content.length-t.content.length),h=d[0],y=d[d.length-1],p=new Set;r.forEach(t=>{const n=new Date(t.createdAt);p.add(n.toISOString().slice(0,10))});const u=Array.from(p).sort();let g=0,c=0,x=null;u.forEach(t=>{const n=new Date(t);x&&(n.getTime()-x.getTime())/864e5===1?c++:c=1,c>g&&(g=c),x=n});const f=[{icon:e.jsx(B,{size:32}),label:"Ilość wierszy",value:r.length,valueStyle:{fontSize:"2.5rem",fontWeight:900,color:"var(--accent-color)",letterSpacing:1}},{icon:e.jsx(S,{size:32}),label:"Średnia długość",value:r.length>0?Math.round(r.reduce((t,n)=>t+n.content.length,0)/r.length)+" znaków":"0 znaków",valueStyle:{fontSize:"2.5rem",fontWeight:900,color:"var(--accent-color)",letterSpacing:1}},{icon:e.jsx(L,{size:32}),label:"Najdłuższy wiersz",value:h?e.jsxs(e.Fragment,{children:[e.jsx("span",{style:{fontWeight:700},children:h.title}),e.jsx("br",{}),"(",h.content.length," znaków)"]}):"-",valueStyle:{fontSize:"1.18rem",fontWeight:700,color:"var(--accent-color)",letterSpacing:1,textAlign:"center"}},{icon:e.jsx(C,{size:32}),label:"Najkrótszy wiersz",value:y?e.jsxs(e.Fragment,{children:[e.jsx("span",{style:{fontWeight:700},children:y.title}),e.jsx("br",{}),"(",y.content.length," znaków)"]}):"-",valueStyle:{fontSize:"1.18rem",fontWeight:700,color:"var(--accent-color)",letterSpacing:1,textAlign:"center"}},{icon:e.jsx(W,{size:32}),label:"Dni z aktywnością",value:u.length,valueStyle:{fontSize:"2.5rem",fontWeight:900,color:"var(--accent-color)",letterSpacing:1}},{icon:e.jsx(z,{size:32}),label:"Najdłuższa seria dni",value:g,valueStyle:{fontSize:"2.5rem",fontWeight:900,color:"var(--accent-color)",letterSpacing:1}},{icon:e.jsx(A,{size:32}),label:"Najczęściej produktywna godzina",value:(()=>{const t={};r.forEach(o=>{const s=new Date(o.createdAt).getHours();t[s]=(t[s]||0)+1});const n=Object.entries(t).sort((o,l)=>l[1]-o[1])[0];return n?`${n[0]}:00`:"-"})(),valueStyle:{fontSize:"2.5rem",fontWeight:900,color:"var(--accent-color)",letterSpacing:1}}];return e.jsxs("div",{style:{maxWidth:"900px",margin:"0 auto",padding:"var(--spacing-md)"},children:[e.jsxs("header",{className:"mb-xl",style:{textAlign:"center"},children:[e.jsx("h1",{style:{fontSize:"clamp(1.5rem, 5vw, 2rem)",marginBottom:"0.5rem",fontWeight:300},children:m.statistics.title}),e.jsx("p",{className:"text-secondary",style:{fontSize:"clamp(0.875rem, 2.5vw, 1rem)"},children:m.statistics.subtitle})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"2.5rem"},children:[e.jsxs("section",{children:[e.jsxs("h2",{style:{fontWeight:600,fontSize:"1.35rem",marginBottom:"2rem",display:"flex",alignItems:"center",gap:12,letterSpacing:.5},children:[e.jsx(T,{size:28})," Statystyki ogólne"]}),e.jsx("div",{style:{display:"flex",overflowX:"auto",gap:"2.2rem",marginBottom:"2.5rem",paddingBottom:"0.5rem",scrollSnapType:"x mandatory",WebkitOverflowScrolling:"touch",minHeight:180},children:f.map(t=>e.jsxs("div",{style:{minWidth:210,background:"linear-gradient(120deg, var(--bg-secondary) 60%, var(--accent-color) 180%)",borderRadius:22,boxShadow:"0 2px 16px 0 rgba(0,0,0,0.08)",padding:"2.1rem 1.2rem 1.2rem 1.2rem",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",position:"relative",scrollSnapAlign:"start",transition:"transform 0.18s cubic-bezier(.4,1.6,.6,1)",cursor:"pointer",userSelect:"none"},onMouseEnter:n=>n.currentTarget.style.transform="scale(1.045)",onMouseLeave:n=>n.currentTarget.style.transform="scale(1)",children:[e.jsx("div",{style:{zIndex:2,marginBottom:18,color:"var(--accent-color)",textShadow:"none"},children:t.icon}),e.jsx("div",{style:{fontSize:15,fontWeight:600,color:"var(--text-secondary)",marginBottom:8,textAlign:"center",letterSpacing:.5},children:t.label}),e.jsx("div",{style:{...t.valueStyle,marginTop:0,textAlign:"center",color:"var(--accent-color)",textShadow:"0 1px 6px var(--bg-secondary), 0 0px 1px var(--accent-color)"},children:t.value}),e.jsx("div",{style:{position:"absolute",bottom:0,left:0,right:0,height:6,background:"linear-gradient(90deg, var(--accent-color) 30%, transparent 100%)",opacity:.13,borderBottomLeftRadius:22,borderBottomRightRadius:22}})]},t.label))})]}),e.jsxs("section",{children:[e.jsxs("h2",{style:{fontWeight:500,fontSize:"1.25rem",marginBottom:"1.5rem",display:"flex",alignItems:"center",gap:8},children:[e.jsx(k,{size:20})," Najczęściej używane słowa"]}),e.jsx("div",{className:"card",style:{cursor:"default",padding:"2rem 1rem 2rem 1rem",minHeight:320},children:e.jsx("div",{style:{width:"100%",overflowX:"auto",paddingBottom:"1rem",maxWidth:"100%"},children:i.length>0?e.jsxs("svg",{width:"100%",height:i.length*36+40,viewBox:`0 0 600 ${i.length*36+40}`,children:[i.map((t,n)=>{const o=t.count/i[0].count*400,l=getComputedStyle(document.body).getPropertyValue("--accent-color")||"#2196f3";return e.jsxs("g",{children:[e.jsx("text",{x:0,y:40+n*36+18,textAnchor:"start",fontSize:"15",fill:"var(--text-primary)",style:{fontFamily:"inherit",fontWeight:500},children:t.word}),e.jsx("rect",{x:120,y:40+n*36,width:o,height:24,fill:l.trim(),rx:6,style:{filter:"drop-shadow(0 2px 6px rgba(0,0,0,0.08))"}}),e.jsx("text",{x:130+o,y:40+n*36+18,textAnchor:"start",fontSize:"14",fill:"var(--text-secondary)",style:{fontFamily:"inherit",fontWeight:600},children:t.count})]},t.word)}),e.jsx("line",{x1:120,y1:20,x2:120,y2:i.length*36+30,stroke:"#ccc",strokeWidth:1})]}):e.jsx("svg",{width:"100%",height:"120",viewBox:"0 0 600 120",children:e.jsx("text",{x:"50%",y:"60",textAnchor:"middle",fontSize:"16",fill:"var(--text-secondary)",style:{fontStyle:"italic"},children:"Brak słów do wyświetlenia (dodaj dłuższy wiersz)."})})})})]})]})]})};export{H as default};
